CREATE TABLE `revenue_action` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `uuid` char(26) NOT NULL,
  `billing_entity_uuid` char(26) NOT NULL,
  `fee_category_group` varchar(25) NOT NULL,
  `revenue_group` varchar(25) DEFAULT NULL,
  `developer_uuid` varchar(13) DEFAULT NULL,
  `developer_app_uuid` varchar(13) DEFAULT NULL,
  `app_subscription_uuid` varchar(13) DEFAULT NULL,
  `app_metered_uuid` varchar(13) DEFAULT NULL,
  `merchant_plan_uuid` varchar(13) DEFAULT NULL,
  `revenue_action_type` varchar(25) NOT NULL,
  `fee_category` varchar(25) NOT NULL,
  `fee_code` varchar(25) NOT NULL,
  `action_datetime` datetime(6) NOT NULL,
  `num_units` smallint NOT NULL DEFAULT '0',
  `units_in_period` smallint unsigned NOT NULL,
  `basis_amount` decimal(12,3) DEFAULT '0.000',
  `basis_currency` char(3) DEFAULT NULL,
  `reference` varchar(50) DEFAULT NULL,
  `revenue_action_fee_code_uuid` char(26) DEFAULT NULL,
  `source_billing_entity_uuid` varchar(26) DEFAULT NULL,
  `settlement_action_uuid` varchar(26) DEFAULT NULL,
  `fee_uuid` char(26) DEFAULT NULL,
  `event_uuid` char(26) DEFAULT NULL,
  `request_uuid` char(26) DEFAULT NULL,
  `date_to_post` date DEFAULT NULL,
  `posting_date` date DEFAULT NULL,
  `created_timestamp` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  `modified_timestamp` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
  PRIMARY KEY (`id`),
  UNIQUE KEY `revenue_action_key1` (`uuid`),
  UNIQUE KEY `revenue_action_key2` (`billing_entity_uuid`,`date_to_post`,`fee_uuid`,`fee_category`,`fee_code`,`uuid`),
  UNIQUE KEY `revenue_action_key3` (`request_uuid`,`billing_entity_uuid`,`uuid`),
  KEY `revenue_action_key4` (`fee_uuid`,`action_datetime`)
) ENGINE=InnoDB AUTO_INCREMENT=2849 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci