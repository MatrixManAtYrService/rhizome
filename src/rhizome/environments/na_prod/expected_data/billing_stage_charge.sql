CREATE TABLE `stage_charge` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `uuid` char(13) CHARACTER SET latin1 NOT NULL,
  `merchant_id` bigint unsigned NOT NULL,
  `currency` char(3) DEFAULT NULL,
  `amount` bigint NOT NULL,
  `tax` bigint DEFAULT NULL,
  `developer_portion` bigint DEFAULT NULL,
  `status` enum('PENDING','IN_PROGRESS','BILLED','CANCELED','REFUND_PENDING','REFUND_PENDING_IF_BILLED','REFUND_IN_PROGRESS','REFUNDED','REFUND_DOWNGRADE_PENDING','REFUND_DOWNGRADE_IN_PROGRESS','REFUND_DOWNGRADE_CANCELED','REFUNDED_DOWNGRADE','DISBURSED','ACH_REJECT','RESUBMITTED','INCURRED','REFUND_INCURRED','REFUND_INCURRED_IF_BILLED','REFUND_DOWNGRADE_INCURRED','REFUND_ACH_REJECT','REFUND_DOWNGRADE_ACH_REJECT','REFUND_CANCELED','WAIVED','REFUND_WAIVED','REFUND_DOWNGRADE_WAIVED','WRITTEN_OFF','REFUND_WRITTEN_OFF','REFUND_DOWNGRADE_WRITTEN_OFF','REVERSED','REFUND_REVERSED','REFUND_DOWNGRADE_REVERSED') NOT NULL,
  `developer_status` enum('DISBURSED','DISBURSE_FAILED','DISBURSE_PENDING','RECLAIMED','RECLAIM_FAILED','RECLAIM_PENDING') DEFAULT NULL,
  `status_owner` varchar(30) NOT NULL,
  `type` enum('SUBSCRIPTION','METERED','PRORATED_SUBSCRIPTION','PARTIAL_MONTH') NOT NULL,
  `tax_classification_code` varchar(10) DEFAULT NULL,
  `start_date` timestamp NULL DEFAULT NULL,
  `end_date` timestamp NULL DEFAULT NULL,
  `created_time` timestamp NULL DEFAULT NULL,
  `modified_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `export_month` date DEFAULT NULL,
  `status_modified_time` timestamp NULL DEFAULT NULL,
  `request_uuid` char(13) NOT NULL,
  `promoted_time` timestamp NULL DEFAULT NULL,
  `promoted_id` bigint unsigned DEFAULT NULL,
  `parent_id` bigint unsigned DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `request_and_uuid` (`request_uuid`,`uuid`),
  UNIQUE KEY `promoted_id_idx` (`promoted_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2397102802 DEFAULT CHARSET=utf8mb3